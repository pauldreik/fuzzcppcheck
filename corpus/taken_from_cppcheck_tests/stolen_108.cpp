void foo(char* p) {
    if (!p) p = buf;
    *p = 0;
}