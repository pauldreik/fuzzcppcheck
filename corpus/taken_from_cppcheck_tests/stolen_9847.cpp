void foo(char *p) {
    if (!p) {
        throw x;
    }
    *p = 0;
}