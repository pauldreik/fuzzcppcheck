void foo() {
  int x = (x = bar()) ? x : 0;
}